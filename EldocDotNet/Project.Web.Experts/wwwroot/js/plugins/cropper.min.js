"use strict";var CropperInstance=function(){var n;return{init:function(t,i=500,r=500,u){const f=document.getElementById(t);let e=f.querySelector('[data-cropper="input"]'),s=f.querySelector('[data-cropper="modal-image"]'),h=f.querySelector('[data-cropper="thumbimage"]'),o=f.querySelector('[data-cropper="image-modal"]'),c=new bootstrap.Modal(o),l=f.querySelector('[data-cropper="zoomin"]'),a=f.querySelector('[data-cropper="zoomout"]'),v=f.querySelector('[data-cropper="crop"]');e.addEventListener("change",function(n){let i=n.target.files,t,r,u=function(n){e.value="";s.src=n;c.show()};i&&i.length>0&&(r=i[0],URL?u(URL.createObjectURL(r)):FileReader&&(t=new FileReader,t.onload=function(){u(t.result)},t.readAsDataURL(r)))});o.addEventListener("shown.bs.modal",function(){n=new Cropper(s,{dragMode:"move",aspectRatio:i/r,restore:!1,guides:!1,center:!1,highlight:!1,cropBoxMovable:!1,cropBoxResizable:!1,toggleDragModeOnDblclick:!1,minCropBoxHeight:100})});o.addEventListener("hidden.bs.modal",function(){n.destroy();n=null});h.addEventListener("click",function(n){n.preventDefault();e.click()});l.addEventListener("click",function(){n.zoom(.1)});a.addEventListener("click",function(){n.zoom(-.1)});v.addEventListener("click",function(){let t;c.hide();n&&(t=n.getCroppedCanvas({width:i,height:r}),t.toBlob(function(n){h.src=URL.createObjectURL(n);u(n)}))})}}}();