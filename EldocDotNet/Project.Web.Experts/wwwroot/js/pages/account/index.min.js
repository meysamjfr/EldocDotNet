"use strict";var KTSigninGeneral=function(){var t,n,i;return{init:function(){t=document.querySelector("#kt_sign_in_form");n=document.querySelector("#kt_sign_in_submit");i=FormValidation.formValidation(t,{fields:{Username:{validators:{notEmpty:{message:"نام کاربری را وارد کنید"}}},Password:{validators:{notEmpty:{message:"کلمه عبور را وارد کنید"}}}},plugins:{trigger:new FormValidation.plugins.Trigger,bootstrap:new FormValidation.plugins.Bootstrap5({rowSelector:".fv-row",eleInvalidClass:"",eleValidClass:""})}});n.addEventListener("click",function(r){r.preventDefault();i.validate().then(function(i){"Valid"==i?(n.setAttribute("data-kt-indicator","on"),n.disabled=!0,fetch("/account/signin",{method:"POST",body:new FormData(t)}).then(n=>n.json()).then(i=>{t.reset(),console.log(i.data),i.status==1?(toastr.success(i.message),window.location.href=i.data):(n.removeAttribute("data-kt-indicator"),n.disabled=!1,toastr.error(i.message))}).catch(()=>toastr.error(result.message))):toastr.warning("لطفا اطلاعات فرم را تکمیل کنید")})})}}}();KTUtil.onDOMContentLoaded(function(){KTSigninGeneral.init()});